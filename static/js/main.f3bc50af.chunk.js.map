{"version":3,"sources":["panels/Home.js","panels/CreateRecord.js","panels/Check.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","useState","popout","setPopout","member","setMember","title","setTitle","getMember","params","window","location","search","slice","fetch","then","response","ok","Error","statusText","json","catch","err","console","log","useEffect","activePanel","style","margin","display","flexDirection","alignItems","justifyContent","textAlign","padding","photo","size","src","marginBottom","marginTop","level","weight","name","header","mode","onClick","checks","length","map","check","index","multiline","text","total_amount","after","top","type","value","onChange","e","target","align","stretched","method","headers","body","JSON","stringify","newCheck","disabled","debts","debt","is_sended","check_obj","before","to_member","amount","caption","actions","Fragment","debt_id","send","sex","debtors","debtor","from_member","confirm","CreateRecord","props","object","setObject","desc","setDesc","setAmount","left","min","Check","setCheck","activeModal","setActiveModal","snackbar","setSnackbar","getCheck","check_","modal","onClose","icon","subheader","indicator","members","member_","badge","organizer","bridge","marginRight","records","record","record_","removeRecord","App","setActivePanel","setUser","hash","replace","a","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","attributes","setNamedItem","fetchData","currentTarget","dataset","checkclose","closeCheck","checkleave","leaveCheck","newobject","newRecord","newdesc","newamount","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f3bc50af.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PullToRefresh, FormLayout, FormItem, Input, FormLayoutGroup } from '@vkontakte/vkui';\nimport { Icon24BrowserForward } from '@vkontakte/icons';\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\nimport { Icon20AddCircle } from '@vkontakte/icons';\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\nimport { Icon56GestureOutline } from '@vkontakte/icons';\nimport { Icon36MoneyCircleOutline } from '@vkontakte/icons';\nimport { Icon16Done } from '@vkontakte/icons';\n\nconst Home = ({ id, go, fetchedUser }) => {\n\tconst [popout, setPopout] = useState(null);\n\tconst [member, setMember] = useState(null);\n\tconst [fetching, setFetching] = useState(false);\n\tconst [title, setTitle] = useState('');\n\n\tfunction getMember() {\n\t\tsetPopout(<ScreenSpinner/>)\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(member => {\n\t\t\t\tsetPopout(null)\n\t\t\t\tsetMember(member)\n\t\t\t})\n\t}\n\n\tfunction send(debt_id) {\n\t\tsetPopout(<ScreenSpinner/>)\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/debt/send/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: debt_id })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(member => {\n\t\t\t\tsetPopout(null)\n\t\t\t\tsetMember(member)\n\t\t\t})\n\t}\n\n\tfunction confirm(debt_id) {\n\t\tsetPopout(<ScreenSpinner/>)\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/debt/confirm/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: debt_id })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(member => {\n\t\t\t\tsetPopout(null)\n\t\t\t\tsetMember(member)\n\t\t\t})\n\t}\n\n\tfunction newCheck() {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/new/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ title: title })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tsetTitle('')\n\t\t\t\tgetMember()\n\t\t\t})\n\t}\n\n\tconst onRefresh = () => {\n\t\tsetFetching(true)\n\t\tgetMember()\n\t\tsetFetching(false)\n\t}\n\n\tuseEffect(() => {\n\t\tgetMember()\n\t}, [])\n\n\treturn (\n\t\t<View activePanel={id} popout={popout}>\n\t\t\t{fetchedUser &&\n\t\t\t<Panel id={id}>\n\t\t\t\t<PanelHeader>Поделим?</PanelHeader>\n\t\t\t\t{member &&\n\t\t\t\t<Group>\n\t\t\t\t\t<Gradient style={{\n\t\t\t\t\t\tmargin: '-7px -7px 0 -7px',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tpadding: 32,\n\t\t\t\t\t}}>\t\n\t\t\t\t\t\t{member.photo ? <Avatar size={96} src={member.photo}/> : null}\n\t\t\t\t\t\t<Title style={{ marginBottom: 8, marginTop: 20 }} level=\"2\" weight=\"medium\">{member.name}</Title>\n\t\t\t\t\t</Gradient>\n\t\t\t\t</Group>}\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Счета <Button size=\"s\" mode=\"outline\" onClick={() => getMember()}>Обновить</Button></Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.checks.length ? member.checks.map((check, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\ttext={check.total_amount + ' ₽'}\n\t\t\t\t\t\t\t\t\tafter={<Icon24BrowserForward />}\n\t\t\t\t\t\t\t\t\tkey={check.id}\n\t\t\t\t\t\t\t\t\tonClick={(go)}\n\t\t\t\t\t\t\t\t\tdata-to=\"check\"\n\t\t\t\t\t\t\t\t\tdata-check={check.id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{check.title}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет активных счетов</Title>\n\t\t\t\t\t\t\t\t<Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t\t<FormLayoutGroup mode=\"horizontal\">\n\t\t\t\t\t\t<FormItem top=\"Название\">\n\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={e => {setTitle(e.target.value)}}\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\t<Div>\n\t\t\t\t\t\t{title ?\n\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\tstretched size=\"l\" \n\t\t\t\t\t\t\t\tmode=\"outline\"\n\t\t\t\t\t\t\t\tonClick={() => {newCheck()}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon20AddCircle/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Button stretched size=\"l\" mode=\"outline\" disabled><Icon20AddCircle/></Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Div>\n\t\t\t\t</Group>\n\t\t\t\t}\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Долги <Button size=\"s\" mode=\"outline\" onClick={() => getMember()}>Обновить</Button></Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.debts.length ? member.debts.map((debt, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tdebt.is_sended ? \n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается подтверждение\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => send(debt.id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tЯ перевел {+ fetchedUser.sex == 1 ? 'а' : ''}\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет долгов</Title>\n\t\t\t\t\t\t\t\t<Icon56CheckCircleOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t\t}\t\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Должники <Button size=\"s\" mode=\"outline\" onClick={() => getMember()}>Обновить</Button></Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.debtors.length ? member.debtors.map((debtor, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!debtor.is_sended ? \n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается перевод\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => confirm(debtor.id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tПодтвердить перевод\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет должников</Title>\n\t\t\t\t\t\t\t\t<Icon56GestureOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t\t}\n\t\t\t</Panel>}\n\t\t</View>\n\t)\n};\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Text, FormLayout, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormItem, Input } from '@vkontakte/vkui';\r\nconst CreateRecord = (props) => {\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [object, setObject] = useState('');\r\n\tconst [desc, setDesc] = useState('');\r\n\tconst [amount, setAmount] = useState(0.0);\r\n\tconst [member, setMember] = useState(null);\r\n\r\n\tfunction getMember() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(member => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetMember(member)\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMember();\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id} popout={popout}>\r\n\t\t\t<Panel id={props.id}>\r\n\t\t\t\t<PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"check\" data-check={props.check}/>}>Новая трата</PanelHeader>\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t<FormLayout>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"На что?\" \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"object\"\r\n\t\t\t\t\t\t\t\tvalue={object}\r\n\t\t\t\t\t\t\t\tonChange={e => {setObject(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"Краткое описание\" \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"desc\"\r\n\t\t\t\t\t\t\t\tvalue={desc}\r\n\t\t\t\t\t\t\t\tonChange={e => {setDesc(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"Сколько?\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tmin=\"0.01\"\r\n\t\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t\t\t\tonChange={e => {setAmount(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\t{(object && amount && amount > 0) ?\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tsize=\"l\" \r\n\t\t\t\t\t\t\t\t\tmode=\"outline\" \r\n\t\t\t\t\t\t\t\t\tstretched\r\n\t\t\t\t\t\t\t\t\tonClick={props.go}\r\n\t\t\t\t\t\t\t\t\tdata-to=\"check\"\r\n\t\t\t\t\t\t\t\t\tdata-newobject={object}\r\n\t\t\t\t\t\t\t\t\tdata-newdesc={desc}\r\n\t\t\t\t\t\t\t\t\tdata-newamount={amount}\r\n\t\t\t\t\t\t\t\t\tdata-check={props.check}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tsize=\"l\" \r\n\t\t\t\t\t\t\t\t\tmode=\"outline\" \r\n\t\t\t\t\t\t\t\t\tstretched\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Div>\r\n                    </FormLayout>\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCreateRecord.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default CreateRecord;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, ModalRoot, Snackbar, Div, Text, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormLayout, PullToRefresh, ModalCard, VKCOM } from '@vkontakte/vkui';\r\nimport { Icon24BrowserForward } from '@vkontakte/icons';\r\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\r\nimport { Icon20AddCircle } from '@vkontakte/icons';\r\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\r\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\r\nimport { Icon56GestureOutline } from '@vkontakte/icons';\r\nimport { Icon12Favorite } from '@vkontakte/icons';\r\nimport { Icon16Linked } from '@vkontakte/icons';\r\nimport { Icon56ErrorTriangleOutline } from '@vkontakte/icons';\r\nimport { Icon16ReplyOutline } from '@vkontakte/icons';\r\n\r\nconst Check = (props) => {\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [member, setMember] = useState(null);\r\n    const [check, setCheck] = useState(null);\r\n    const [fetching, setFetching] = useState(false);\r\n    const [activeModal, setActiveModal] = useState(null);\r\n    const [snackbar, setSnackbar] = useState(null);\r\n\r\n\tfunction getMember() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(member => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetMember(member)\r\n\t\t\t})\r\n\t}\r\n\r\n    function getCheck() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n            fetch('https://pieceofchit.xyz/api/v1/check/get/'+ props.check +'/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(check_ => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetCheck(check_)\r\n\t\t\t})\r\n\t}\r\n\r\n    function copyLink() {\r\n        bridge.send(\"VKWebAppCopyText\", {\"text\": \"https://vk.com/app7987402#\" + check.id});\r\n        setSnackbar(\r\n            <Snackbar\r\n                onClose={() => setSnackbar(null)}\r\n            >\r\n               Ссылка скопирована\r\n            </Snackbar>\r\n        )\r\n    }\r\n\r\n    function removeRecord(record_) {\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/record/delete/?'+params, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({ id: record_ })\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tgetCheck()\r\n\t\t\t})\r\n\t};\r\n    \r\n    const modal = (\r\n        <ModalRoot\r\n            activeModal={activeModal}\r\n        >\r\n            <ModalCard\r\n                id='close'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите закрыть счет?\"\r\n                subheader=\"После этого будет нельзя добавить новые затраты, а всем пользователям счета будут рассчитаны суммы переводов\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkclose={check ? check.id : null}>\r\n                        Да, закрыть\r\n                    </Button>\r\n                }\r\n            />\r\n\r\n            <ModalCard\r\n                id='leave'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите покинуть счет?\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkleave={check ? check.id : null}>\r\n                        Да, покинуть\r\n                    </Button>\r\n                }\r\n            />\r\n        </ModalRoot>\r\n    ) \r\n\r\n\tuseEffect(() => {\r\n\t\tgetMember();\r\n        getCheck();\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id} popout={popout} modal={modal}>\r\n            {check && member &&\r\n\t\t\t<Panel id={props.id}>\r\n                <PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"home\"/>}>{check.title}</PanelHeader>\r\n                <Group>\r\n                    <Gradient style={{\r\n                        margin: '-7px -7px 0 -7px',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        textAlign: 'center',\r\n                        padding: 32,\r\n                    }}>\t\r\n                        <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>Общая сумма счета</Title>\r\n                        <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>{check.total_amount} ₽</Title>\r\n                        <Button size=\"m\" mode=\"outline\" onClick={() => {getMember(); getCheck()}}>Нажмите для обновления</Button>\r\n                    </Gradient>\r\n                </Group>\r\n                <Group header={<Header indicator={check.members.length}>Участники</Header>}>\r\n                    {\r\n                        check.members.length ? check.members.map((member_, index) => {\r\n                            return (\r\n                                <Cell\r\n                                    disabled\r\n                                    before={<Avatar size={44} src={member_.photo}/>}\r\n                                    key={member_.id}\r\n                                    badge={member_.id === check.organizer.id ? <Icon12Favorite/>: ''}\r\n                                >\r\n                                    {member_.name}\r\n                                </Cell>\r\n                            )\r\n                        }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                <Title level=\"2\" weight=\"regular\">Нет участников ?! Да как такое возможно?!</Title>\r\n                                <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                            </Div>\r\n                    }\r\n                    <Div style={{display: \"flex\"}}>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            before={<Icon16Linked/>}\r\n                            onClick={() => {copyLink()}}\r\n                            style={{marginRight: \".5rem\"}}\r\n                        >\r\n                            Скопировать ссылку\r\n                        </Button>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            before={<Icon16ReplyOutline/>}\r\n                            onClick={() => {bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7987402#\" + check.id});}}\r\n                        >\r\n                            Пригласить\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n                <Group header={<Header indicator={check.records.length}>Затраты</Header>}>\r\n                    {\r\n                        check.records.length ? check.records.map((record, index) => {\r\n                            return (\r\n                                record.member.id == member.id || member.id == check.organizer.id ? \r\n                                    <RichCell\r\n                                        disabled\r\n                                        multiline\r\n                                        text={record.object}\r\n                                        before={<Avatar size={72} src={record.member.photo}/>}\r\n                                        after={record.amount + ' ₽'}\r\n                                        key={record.id}\r\n                                        indicator={record.amount + ' ₽'}\r\n                                        caption={record.desc}\r\n                                        actions={\r\n                                            <React.Fragment>\r\n                                            <Button mode=\"destructive\" onClick={() => removeRecord(record.id)}>удалить</Button>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    >\r\n                                        <Title level=\"2\" weight=\"regular\">{record.member.name}</Title>\r\n                                    </RichCell>\r\n                                :\r\n                                <RichCell\r\n                                    disabled\r\n                                    multiline\r\n                                    text={record.object}\r\n                                    before={<Avatar size={72} src={record.member.photo}/>}\r\n                                    after={record.amount + ' ₽'}\r\n                                    key={record.id}\r\n                                    indicator={record.amount + ' ₽'}\r\n                                    caption={record.desc}\r\n                                >\r\n                                    <Title level=\"2\" weight=\"regular\">{record.member.name}</Title>\r\n                                </RichCell>\r\n                            )\r\n                        }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                <Title level=\"2\" weight=\"regular\">Трат еще нет</Title>\r\n                                <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                            </Div>\r\n                    }\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            onClick={props.go}\r\n                            data-to=\"create\"\r\n                            data-check={check.id}\r\n                        >\r\n                            <Icon20AddCircle/>\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n                {\r\n                    member.id === check.organizer.id &&\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            onClick={() => {setActiveModal('close')}}\r\n                        >\r\n                            Нажмите здесь для закрытия счета и подсчета результатов\r\n                        </Button>\r\n                    </Div>\r\n                }\r\n                {\r\n                    member.id !== check.organizer.id &&\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"destructive\"\r\n                            onClick={() => {setActiveModal('leave')}}\r\n                        >\r\n                            Выйти\r\n                        </Button>\r\n                    </Div>\r\n                }\r\n                {snackbar}\r\n\t\t\t</Panel>\r\n            }\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCheck.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Check;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport CreateCheck from './panels/CreateRecord';\nimport Check from './panels/Check';\nimport CreateRecord from './panels/CreateRecord';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [check, setCheck] = useState(null);\n\n\tlet hash = window.location.hash.replace('#', '')\n\tif (hash) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/join/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: hash })\n\t\t}).then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then((check_) => {\n\t\t\t\tsetCheck(check_.id)\n\t\t\t\tsetActivePanel(\"check\")\n\t\t\t})\n\t\twindow.location.hash = ''\n\t}\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tif (e.currentTarget.dataset.checkclose) {\n\t\t\tcloseCheck(e.currentTarget.dataset.checkclose)\n\t\t}\n\t\telse if (e.currentTarget.dataset.checkleave) {\n\t\t\tleaveCheck(e.currentTarget.dataset.checkleave)\n\t\t}\n\t\telse if (e.currentTarget.dataset.newobject) {\n\t\t\tnewRecord(\n\t\t\t\te.currentTarget.dataset.check,\n\t\t\t\te.currentTarget.dataset.newobject,\n\t\t\t\te.currentTarget.dataset.newdesc,\n\t\t\t\te.currentTarget.dataset.newamount,\n\t\t\t)\n\t\t}\n\t\tif (e.currentTarget.dataset.check) {\n\t\t\tsetCheck(e.currentTarget.dataset.check);\n\t\t}\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tfunction closeCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/close/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t}\n\n\tfunction leaveCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/leave/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t};\n\n\tfunction newRecord(check_, object, desc, amount) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/record/new/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ check_obj: check_, object: object, desc: desc, amount: amount })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t<Check id='check' fetchedUser={fetchedUser} go={go} check={check}/>\n\t\t\t\t\t<CreateRecord id='create' fetchedUser={fetchedUser} go={go} check={check}/>\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}