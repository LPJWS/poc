{"version":3,"sources":["panels/Home.js","panels/CreateCheck.js","panels/Check.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","useState","popout","setPopout","member","setMember","fetching","setFetching","getMember","params","window","location","search","slice","fetch","then","response","ok","Error","statusText","json","catch","err","console","log","useEffect","activePanel","onRefresh","isFetching","style","margin","display","flexDirection","alignItems","justifyContent","textAlign","padding","photo","size","src","marginBottom","marginTop","level","weight","name","header","checks","length","map","check","index","multiline","text","total_amount","after","onClick","title","stretched","mode","debts","debt","is_sended","disabled","check_obj","before","to_member","amount","caption","actions","Fragment","sex","debtors","debtor","from_member","CreateCheck","props","setTitle","left","top","type","value","onChange","e","target","align","Check","setCheck","activeModal","setActiveModal","snackbar","setSnackbar","getCheck","check_","modal","onClose","icon","subheader","indicator","members","member_","badge","organizer","bridge","send","marginRight","records","record","object","desc","App","setActivePanel","setUser","hash","replace","method","headers","body","JSON","stringify","a","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","attributes","setNamedItem","fetchData","currentTarget","dataset","checkclose","closeCheck","checkleave","leaveCheck","newcheck","newCheck","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.756806c3.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Avatar, ScreenSpinner, View, Gradient, Title, PullToRefresh } from '@vkontakte/vkui';\nimport { Icon24BrowserForward } from '@vkontakte/icons';\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\nimport { Icon20AddCircle } from '@vkontakte/icons';\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\nimport { Icon56GestureOutline } from '@vkontakte/icons';\nimport { Icon36MoneyCircleOutline } from '@vkontakte/icons';\n\nconst Home = ({ id, go, fetchedUser }) => {\n\tconst [popout, setPopout] = useState(null);\n\tconst [member, setMember] = useState(null);\n\tconst [fetching, setFetching] = useState(false);\n\n\tfunction getMember() {\n\t\tsetPopout(<ScreenSpinner/>)\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(member => {\n\t\t\t\tsetPopout(null)\n\t\t\t\tsetMember(member)\n\t\t\t})\n\t}\n\n\tconst onRefresh = () => {\n\t\tsetFetching(true)\n\t\tgetMember()\n\t\tsetFetching(false)\n\t}\n\n\tuseEffect(() => {\n\t\tgetMember()\n\t}, [])\n\n\treturn (\n\t\t\n\t\t<View activePanel={id} popout={popout}>\n\t\t\t{fetchedUser &&\n\t\t\t<Panel id={id}>\n\t\t\t\t<PullToRefresh onRefresh={onRefresh} isFetching={fetching}>\n\t\t\t\t\t<PanelHeader>Поделим?</PanelHeader>\n\t\t\t\t\t{member &&\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t<Gradient style={{\n\t\t\t\t\t\t\tmargin: '-7px -7px 0 -7px',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\tpadding: 32,\n\t\t\t\t\t\t}}>\t\n\t\t\t\t\t\t\t{member.photo ? <Avatar size={96} src={member.photo}/> : null}\n\t\t\t\t\t\t\t<Title style={{ marginBottom: 8, marginTop: 20 }} level=\"2\" weight=\"medium\">{member.name}</Title>\n\t\t\t\t\t\t</Gradient>\n\t\t\t\t\t</Group>}\n\t\t\t\t\t{member && \n\t\t\t\t\t<Group header={<Header>Счета</Header>}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmember.checks.length ? member.checks.map((check, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={check.total_amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tafter={<Icon24BrowserForward />}\n\t\t\t\t\t\t\t\t\t\tkey={check.id}\n\t\t\t\t\t\t\t\t\t\tonClick={go}\n\t\t\t\t\t\t\t\t\t\tdata-to=\"check\"\n\t\t\t\t\t\t\t\t\t\tdata-check={check.id}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{check.title}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет активных счетов</Title>\n\t\t\t\t\t\t\t\t\t<Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Div>\n\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\tstretched size=\"l\" \n\t\t\t\t\t\t\t\tmode=\"outline\"\n\t\t\t\t\t\t\t\tonClick={go}\n\t\t\t\t\t\t\t\tdata-to=\"create\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon20AddCircle/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Div>\n\t\t\t\t\t</Group>\n\t\t\t\t\t}\n\t\t\t\t\t{member && \n\t\t\t\t\t<Group header={<Header>Долги</Header>}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmember.debts.length ? member.debts.map((debt, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\tdebt.is_sended ? \n\t\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается подтверждение\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button>Я перевел {+ fetchedUser.sex == 1 ? 'а' : ''}</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет долгов</Title>\n\t\t\t\t\t\t\t\t\t<Icon56CheckCircleOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Group>\n\t\t\t\t\t}\t\n\t\t\t\t\t{member && \n\t\t\t\t\t<Group header={<Header>Должники</Header>}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmember.debtors.length ? member.debtors.map((debtor, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t!debtor.is_sended ? \n\t\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается перевод\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button>Подтвердить перевод</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет должников</Title>\n\t\t\t\t\t\t\t\t\t<Icon56GestureOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Group>\n\t\t\t\t\t}\n\t\t\t\t</PullToRefresh>\n\t\t\t</Panel>}\n\t\t</View>\n\t)\n};\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React, {useState} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Text, FormLayout, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormItem, Input } from '@vkontakte/vkui';\r\nconst CreateCheck = (props) => {\r\n\tconst [title, setTitle] = useState('');\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id}>\r\n\t\t\t<Panel id={props.id}>\r\n\t\t\t\t<PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"home\"/>}>Создать счет</PanelHeader>\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t<FormLayout>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"Название\" \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\t\tonChange={e => {setTitle(e.target.value)}}\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n                    </FormLayout>\r\n\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\tsize=\"l\" \r\n\t\t\t\t\t\t\tmode=\"outline\" \r\n\t\t\t\t\t\t\tstretched\r\n\t\t\t\t\t\t\tonClick={props.go}\r\n\t\t\t\t\t\t\tdata-to=\"home\"\r\n\t\t\t\t\t\t\tdata-newcheck={title}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Div>\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCreateCheck.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default CreateCheck;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, ModalRoot, Snackbar, Div, Text, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormLayout, PullToRefresh, ModalCard, VKCOM } from '@vkontakte/vkui';\r\nimport { Icon24BrowserForward } from '@vkontakte/icons';\r\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\r\nimport { Icon20AddCircle } from '@vkontakte/icons';\r\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\r\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\r\nimport { Icon56GestureOutline } from '@vkontakte/icons';\r\nimport { Icon12Favorite } from '@vkontakte/icons';\r\nimport { Icon16Linked } from '@vkontakte/icons';\r\nimport { Icon56ErrorTriangleOutline } from '@vkontakte/icons';\r\nimport { Icon16ReplyOutline } from '@vkontakte/icons';\r\n\r\nconst Check = (props) => {\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [member, setMember] = useState(null);\r\n    const [check, setCheck] = useState(null);\r\n    const [fetching, setFetching] = useState(false);\r\n    const [activeModal, setActiveModal] = useState(null);\r\n    const [snackbar, setSnackbar] = useState(null);\r\n\r\n\tfunction getMember() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(member => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetMember(member)\r\n\t\t\t})\r\n\t}\r\n\r\n    function getCheck() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n            fetch('https://pieceofchit.xyz/api/v1/check/get/'+ props.check +'/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(check_ => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetCheck(check_)\r\n\t\t\t})\r\n\t}\r\n\r\n    function copyLink() {\r\n        bridge.send(\"VKWebAppCopyText\", {\"text\": \"https://vk.com/app7987402#\" + check.id});\r\n        setSnackbar(\r\n            <Snackbar\r\n                onClose={() => setSnackbar(null)}\r\n            >\r\n               Ссылка скопирована\r\n            </Snackbar>\r\n        )\r\n    }\r\n\r\n    const onRefresh = () => {\r\n\t\tsetFetching(true)\r\n\t\tgetMember()\r\n        getCheck()\r\n\t\tsetFetching(false)\r\n\t}\r\n    \r\n    const modal = (\r\n        <ModalRoot\r\n            activeModal={activeModal}\r\n        >\r\n            <ModalCard\r\n                id='close'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите закрыть счет?\"\r\n                subheader=\"После этого будет нельзя добавить новые затраты, а всем пользователям счета будут рассчитаны суммы переводов\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkclose={check ? check.id : null}>\r\n                        Да, закрыть\r\n                    </Button>\r\n                }\r\n            />\r\n\r\n            <ModalCard\r\n                id='leave'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите покинуть счет?\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkleave={check ? check.id : null}>\r\n                        Да, покинуть\r\n                    </Button>\r\n                }\r\n            />\r\n        </ModalRoot>\r\n    ) \r\n\r\n\tuseEffect(() => {\r\n\t\tgetMember();\r\n        getCheck();\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id} popout={popout} modal={modal}>\r\n            {check && member &&\r\n\t\t\t<Panel id={props.id}>\r\n                <PullToRefresh onRefresh={onRefresh} isFetching={fetching}>\r\n                    <PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"home\"/>}>{check.title}</PanelHeader>\r\n                    <Group>\r\n                        <Gradient style={{\r\n                            margin: '-7px -7px 0 -7px',\r\n                            display: 'flex',\r\n                            flexDirection: 'column',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            textAlign: 'center',\r\n                            padding: 32,\r\n                        }}>\t\r\n                            <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>Общая сумма счета</Title>\r\n                            <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>{check.total_amount} ₽</Title>\r\n                        </Gradient>\r\n                    </Group>\r\n                    <Group header={<Header indicator={check.members.length}>Участники</Header>}>\r\n                        {\r\n                            check.members.length ? check.members.map((member_, index) => {\r\n                                return (\r\n                                    <Cell\r\n                                        disabled\r\n                                        before={<Avatar size={44} src={member_.photo}/>}\r\n                                        key={member_.id}\r\n                                        badge={member_.id === check.organizer.id ? <Icon12Favorite/>: ''}\r\n                                    >\r\n                                        {member_.name}\r\n                                    </Cell>\r\n                                )\r\n                            }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                    <Title level=\"2\" weight=\"regular\">Нет участников ?! Да как такое возможно?!</Title>\r\n                                    <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                                </Div>\r\n                        }\r\n                        <Div style={{display: \"flex\"}}>\r\n                            <Button \r\n                                stretched size=\"l\" \r\n                                mode=\"outline\"\r\n                                before={<Icon16Linked/>}\r\n                                onClick={() => {copyLink()}}\r\n                                style={{marginRight: \".5rem\"}}\r\n                            >\r\n                                Скопировать ссылку\r\n                            </Button>\r\n                            <Button \r\n                                stretched size=\"l\" \r\n                                mode=\"outline\"\r\n                                before={<Icon16ReplyOutline/>}\r\n                                onClick={() => {bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7987402#\" + check.id});}}\r\n                            >\r\n                                Пригласить\r\n                            </Button>\r\n                        </Div>\r\n                    </Group>\r\n                    <Group header={<Header indicator={check.records.length}>Затраты</Header>}>\r\n                        {\r\n                            check.records.length ? check.records.map((record, index) => {\r\n                                return (\r\n                                    <RichCell\r\n                                        disabled\r\n                                        multiline\r\n                                        text={record.object}\r\n                                        before={<Avatar size={72} src={record.member.photo}/>}\r\n                                        after={record.amount + ' ₽'}\r\n                                        key={record.id}\r\n                                        indicator={record.amount + ' ₽'}\r\n                                        caption={record.desc}\r\n                                    >\r\n                                        <Title level=\"2\" weight=\"regular\">{record.member.name}</Title>\r\n                                    </RichCell>\r\n                                )\r\n                            }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                    <Title level=\"2\" weight=\"regular\">Трат еще нет</Title>\r\n                                    <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                                </Div>\r\n                        }\r\n                        <Div>\r\n                            <Button \r\n                                stretched size=\"l\" \r\n                                mode=\"outline\"\r\n                            >\r\n                                <Icon20AddCircle/>\r\n                            </Button>\r\n                        </Div>\r\n                    </Group>\r\n                    {\r\n                        member.id === check.organizer.id &&\r\n                        <Div>\r\n                            <Button \r\n                                stretched size=\"l\" \r\n                                mode=\"outline\"\r\n                                onClick={() => {setActiveModal('close')}}\r\n                            >\r\n                                Нажмите здесь для закрытия счета и подсчета результатов\r\n                            </Button>\r\n                        </Div>\r\n                    }\r\n                    {\r\n                        member.id !== check.organizer.id &&\r\n                        <Div>\r\n                            <Button \r\n                                stretched size=\"l\" \r\n                                mode=\"destructive\"\r\n                                onClick={() => {setActiveModal('leave')}}\r\n                            >\r\n                                Выйти\r\n                            </Button>\r\n                        </Div>\r\n                    }\r\n                    {snackbar}\r\n                </PullToRefresh>\r\n\t\t\t</Panel>\r\n            }\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCheck.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Check;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport CreateCheck from './panels/CreateCheck';\nimport Check from './panels/Check';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [check, setCheck] = useState(null);\n\n\tlet hash = window.location.hash.replace('#', '')\n\tif (hash) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/join/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: hash })\n\t\t}).then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then((check_) => {\n\t\t\t\tsetCheck(check_.id)\n\t\t\t\tsetActivePanel(\"check\")\n\t\t\t})\n\t\twindow.location.hash = ''\n\t}\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tif (e.currentTarget.dataset.checkclose) {\n\t\t\tcloseCheck(e.currentTarget.dataset.checkclose)\n\t\t}\n\t\telse if (e.currentTarget.dataset.checkleave) {\n\t\t\tleaveCheck(e.currentTarget.dataset.checkleave)\n\t\t}\n\t\telse if (e.currentTarget.dataset.newcheck) {\n\t\t\tnewCheck(e.currentTarget.dataset.newcheck)\n\t\t}\n\t\telse if (e.currentTarget.dataset.check) {\n\t\t\tsetCheck(e.currentTarget.dataset.check);\n\t\t}\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tfunction closeCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/close/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t}\n\n\tfunction newCheck(title) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/new/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ title: title })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(check_ => {\n\t\t\t\tsetCheck(check_.id)\n\t\t\t})\n\t}\n\n\tfunction leaveCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/leave/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t<CreateCheck id='create' fetchedUser={fetchedUser} go={go}/>\n\t\t\t\t\t<Check id='check' fetchedUser={fetchedUser} go={go} check={check}/>\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}