{"version":3,"sources":["panels/Home.js","panels/CreateRecord.js","panels/Check.js","App.js","index.js"],"names":["Home","id","go","fetchedUser","useState","popout","setPopout","member","setMember","title","setTitle","getMember","params","window","location","search","slice","fetch","then","response","ok","Error","statusText","json","catch","err","console","log","useEffect","activePanel","style","margin","display","flexDirection","alignItems","justifyContent","textAlign","padding","photo","size","src","marginBottom","marginTop","level","weight","name","header","checks","length","map","check","index","multiline","text","total_amount","after","onClick","mode","top","type","value","onChange","e","target","align","stretched","method","headers","body","JSON","stringify","newCheck","disabled","debts","debt","is_sended","check_obj","before","to_member","amount","caption","actions","Fragment","sex","debtors","debtor","from_member","CreateRecord","props","object","setObject","desc","setDesc","setAmount","left","Check","setCheck","activeModal","setActiveModal","snackbar","setSnackbar","getCheck","check_","modal","onClose","icon","subheader","indicator","members","member_","badge","organizer","bridge","send","marginRight","records","record","record_","removeRecord","App","setActivePanel","setUser","hash","replace","a","user","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","attributes","setNamedItem","fetchData","currentTarget","dataset","checkclose","closeCheck","checkleave","leaveCheck","newobject","newRecord","newdesc","newamount","to","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.69a728e7.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PullToRefresh, FormLayout, FormItem, Input, FormLayoutGroup } from '@vkontakte/vkui';\nimport { Icon24BrowserForward } from '@vkontakte/icons';\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\nimport { Icon20AddCircle } from '@vkontakte/icons';\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\nimport { Icon56GestureOutline } from '@vkontakte/icons';\nimport { Icon36MoneyCircleOutline } from '@vkontakte/icons';\nimport { Icon16Done } from '@vkontakte/icons';\n\nconst Home = ({ id, go, fetchedUser }) => {\n\tconst [popout, setPopout] = useState(null);\n\tconst [member, setMember] = useState(null);\n\tconst [fetching, setFetching] = useState(false);\n\tconst [title, setTitle] = useState('');\n\n\tfunction getMember() {\n\t\tsetPopout(<ScreenSpinner/>)\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(member => {\n\t\t\t\tsetPopout(null)\n\t\t\t\tsetMember(member)\n\t\t\t})\n\t}\n\n\tfunction newCheck() {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/new/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ title: title })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tsetTitle('')\n\t\t\t\tgetMember()\n\t\t\t})\n\t}\n\n\tconst onRefresh = () => {\n\t\tsetFetching(true)\n\t\tgetMember()\n\t\tsetFetching(false)\n\t}\n\n\tuseEffect(() => {\n\t\tgetMember()\n\t}, [])\n\n\treturn (\n\t\t<View activePanel={id} popout={popout}>\n\t\t\t{fetchedUser &&\n\t\t\t<Panel id={id}>\n\t\t\t\t<PanelHeader>Поделим?</PanelHeader>\n\t\t\t\t{member &&\n\t\t\t\t<Group>\n\t\t\t\t\t<Gradient style={{\n\t\t\t\t\t\tmargin: '-7px -7px 0 -7px',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\tpadding: 32,\n\t\t\t\t\t}}>\t\n\t\t\t\t\t\t{member.photo ? <Avatar size={96} src={member.photo}/> : null}\n\t\t\t\t\t\t<Title style={{ marginBottom: 8, marginTop: 20 }} level=\"2\" weight=\"medium\">{member.name}</Title>\n\t\t\t\t\t</Gradient>\n\t\t\t\t</Group>}\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Счета</Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.checks.length ? member.checks.map((check, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\ttext={check.total_amount + ' ₽'}\n\t\t\t\t\t\t\t\t\tafter={<Icon24BrowserForward />}\n\t\t\t\t\t\t\t\t\tkey={check.id}\n\t\t\t\t\t\t\t\t\tonClick={(go)}\n\t\t\t\t\t\t\t\t\tdata-to=\"check\"\n\t\t\t\t\t\t\t\t\tdata-check={check.id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{check.title}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет активных счетов</Title>\n\t\t\t\t\t\t\t\t<Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t\t<FormLayoutGroup mode=\"horizontal\">\n\t\t\t\t\t\t<FormItem top=\"Название\">\n\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={e => {setTitle(e.target.value)}}\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\t<Div>\n\t\t\t\t\t\t{title ?\n\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\tstretched size=\"l\" \n\t\t\t\t\t\t\t\tmode=\"outline\"\n\t\t\t\t\t\t\t\tonClick={() => {newCheck()}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Icon20AddCircle/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Button stretched size=\"l\" mode=\"outline\" disabled><Icon20AddCircle/></Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Div>\n\t\t\t\t</Group>\n\t\t\t\t}\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Долги <Button size=\"s\" mode=\"outline\" onClick={() => getMember()}>Обновить</Button></Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.debts.length ? member.debts.map((debt, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tdebt.is_sended ? \n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается подтверждение\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debt.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debt.to_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debt.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debt.id}\n\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<Button>Я перевел {+ fetchedUser.sex == 1 ? 'а' : ''}</Button>\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debt.to_member.name}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет долгов</Title>\n\t\t\t\t\t\t\t\t<Icon56CheckCircleOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t\t}\t\n\t\t\t\t{member && \n\t\t\t\t<Group header={<Header>Должники <Button size=\"s\" mode=\"outline\" onClick={() => getMember()}>Обновить</Button></Header>}>\n\t\t\t\t\t{\n\t\t\t\t\t\tmember.debtors.length ? member.debtors.map((debtor, index) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t!debtor.is_sended ? \n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\tcaption=\"Ожидается перевод\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<RichCell\n\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\ttext={debtor.check_obj.title}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={72} src={debtor.from_member.photo}/>}\n\t\t\t\t\t\t\t\t\t\tafter={debtor.amount + ' ₽'}\n\t\t\t\t\t\t\t\t\t\tkey={debtor.id}\n\t\t\t\t\t\t\t\t\t\tactions={\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t<Button>Подтвердить перевод</Button>\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">{debtor.from_member.name}</Title>\n\t\t\t\t\t\t\t\t</RichCell>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\n\t\t\t\t\t\t\t\t<Title level=\"2\" weight=\"regular\">У вас нет должников</Title>\n\t\t\t\t\t\t\t\t<Icon56GestureOutline style={{marginTop: \".5rem\"}}/>\n\t\t\t\t\t\t\t</Div>\n\t\t\t\t\t}\n\t\t\t\t</Group>\n\t\t\t\t}\n\t\t\t</Panel>}\n\t\t</View>\n\t)\n};\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, Div, Text, FormLayout, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormItem, Input } from '@vkontakte/vkui';\r\nconst CreateRecord = (props) => {\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [object, setObject] = useState('');\r\n\tconst [desc, setDesc] = useState('');\r\n\tconst [amount, setAmount] = useState(0.0);\r\n\tconst [member, setMember] = useState(null);\r\n\r\n\tfunction getMember() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(member => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetMember(member)\r\n\t\t\t})\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetMember();\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id} popout={popout}>\r\n\t\t\t<Panel id={props.id}>\r\n\t\t\t\t<PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"check\" data-check={props.check}/>}>Новая трата</PanelHeader>\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t<FormLayout>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"На что?\" \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"object\"\r\n\t\t\t\t\t\t\t\tvalue={object}\r\n\t\t\t\t\t\t\t\tonChange={e => {setObject(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"Краткое описание\" \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"desc\"\r\n\t\t\t\t\t\t\t\tvalue={desc}\r\n\t\t\t\t\t\t\t\tonChange={e => {setDesc(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem\r\n\t\t\t\t\t\t\ttop=\"Сколько?\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tname=\"amount\"\r\n\t\t\t\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\t\t\t\tonChange={e => {setAmount(e.target.value)}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\t{(object && amount) ?\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tsize=\"l\" \r\n\t\t\t\t\t\t\t\t\tmode=\"outline\" \r\n\t\t\t\t\t\t\t\t\tstretched\r\n\t\t\t\t\t\t\t\t\tonClick={props.go}\r\n\t\t\t\t\t\t\t\t\tdata-to=\"check\"\r\n\t\t\t\t\t\t\t\t\tdata-newobject={object}\r\n\t\t\t\t\t\t\t\t\tdata-newdesc={desc}\r\n\t\t\t\t\t\t\t\t\tdata-newamount={amount}\r\n\t\t\t\t\t\t\t\t\tdata-check={props.check}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<Button \r\n\t\t\t\t\t\t\t\t\tsize=\"l\" \r\n\t\t\t\t\t\t\t\t\tmode=\"outline\" \r\n\t\t\t\t\t\t\t\t\tstretched\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tСоздать\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Div>\r\n                    </FormLayout>\r\n\t\t\t\t</Group>\r\n\t\t\t</Panel>\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCreateRecord.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default CreateRecord;\r\n","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nimport { Panel, PanelHeader, Header, Button, Group, RichCell, Cell, ModalRoot, Snackbar, Div, Text, Avatar, ScreenSpinner, View, Gradient, Title, IconButton, PanelHeaderBack, FormLayout, PullToRefresh, ModalCard, VKCOM } from '@vkontakte/vkui';\r\nimport { Icon24BrowserForward } from '@vkontakte/icons';\r\nimport { Icon24MoneyCircle } from '@vkontakte/icons';\r\nimport { Icon20AddCircle } from '@vkontakte/icons';\r\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\r\nimport { Icon56NotePenOutline } from '@vkontakte/icons';\r\nimport { Icon56GestureOutline } from '@vkontakte/icons';\r\nimport { Icon12Favorite } from '@vkontakte/icons';\r\nimport { Icon16Linked } from '@vkontakte/icons';\r\nimport { Icon56ErrorTriangleOutline } from '@vkontakte/icons';\r\nimport { Icon16ReplyOutline } from '@vkontakte/icons';\r\n\r\nconst Check = (props) => {\r\n\tconst [popout, setPopout] = useState(null);\r\n\tconst [member, setMember] = useState(null);\r\n    const [check, setCheck] = useState(null);\r\n    const [fetching, setFetching] = useState(false);\r\n    const [activeModal, setActiveModal] = useState(null);\r\n    const [snackbar, setSnackbar] = useState(null);\r\n\r\n\tfunction getMember() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/member/me/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(member => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetMember(member)\r\n\t\t\t})\r\n\t}\r\n\r\n    function getCheck() {\r\n\t\tsetPopout(<ScreenSpinner/>)\r\n\t\tconst params = window.location.search.slice(1);\r\n            fetch('https://pieceofchit.xyz/api/v1/check/get/'+ props.check +'/?'+params)\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(check_ => {\r\n\t\t\t\tsetPopout(null)\r\n\t\t\t\tsetCheck(check_)\r\n\t\t\t})\r\n\t}\r\n\r\n    function copyLink() {\r\n        bridge.send(\"VKWebAppCopyText\", {\"text\": \"https://vk.com/app7987402#\" + check.id});\r\n        setSnackbar(\r\n            <Snackbar\r\n                onClose={() => setSnackbar(null)}\r\n            >\r\n               Ссылка скопирована\r\n            </Snackbar>\r\n        )\r\n    }\r\n\r\n    function removeRecord(record_) {\r\n\t\tconst params = window.location.search.slice(1);\r\n\t\tfetch('https://pieceofchit.xyz/api/v1/record/delete/?'+params, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify({ id: record_ })\r\n\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error(response.statusText)\r\n\t\t\t\t}\r\n\t\t\t\treturn response.json()\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tgetCheck()\r\n\t\t\t})\r\n\t};\r\n    \r\n    const modal = (\r\n        <ModalRoot\r\n            activeModal={activeModal}\r\n        >\r\n            <ModalCard\r\n                id='close'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите закрыть счет?\"\r\n                subheader=\"После этого будет нельзя добавить новые затраты, а всем пользователям счета будут рассчитаны суммы переводов\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkclose={check ? check.id : null}>\r\n                        Да, закрыть\r\n                    </Button>\r\n                }\r\n            />\r\n\r\n            <ModalCard\r\n                id='leave'\r\n                onClose={() => setActiveModal(null)}\r\n                icon={<Icon56ErrorTriangleOutline/>}\r\n                header=\"Вы уверены, что хотите покинуть счет?\"\r\n                actions={\r\n                    <Button size=\"l\" mode=\"primary\" onClick={props.go} data-to=\"home\" data-checkleave={check ? check.id : null}>\r\n                        Да, покинуть\r\n                    </Button>\r\n                }\r\n            />\r\n        </ModalRoot>\r\n    ) \r\n\r\n\tuseEffect(() => {\r\n\t\tgetMember();\r\n        getCheck();\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<View activePanel={props.id} popout={popout} modal={modal}>\r\n            {check && member &&\r\n\t\t\t<Panel id={props.id}>\r\n                <PanelHeader left={<PanelHeaderBack onClick={props.go} data-to=\"home\"/>}>{check.title}</PanelHeader>\r\n                <Group>\r\n                    <Gradient style={{\r\n                        margin: '-7px -7px 0 -7px',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        textAlign: 'center',\r\n                        padding: 32,\r\n                    }}>\t\r\n                        <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>Общая сумма счета</Title>\r\n                        <Title level=\"1\" weight=\"heavy\" style={{ marginBottom: 16 }}>{check.total_amount} ₽</Title>\r\n                        <Button size=\"m\" mode=\"outline\" onClick={() => {getMember(); getCheck()}}>Нажмите для обновления</Button>\r\n                    </Gradient>\r\n                </Group>\r\n                <Group header={<Header indicator={check.members.length}>Участники</Header>}>\r\n                    {\r\n                        check.members.length ? check.members.map((member_, index) => {\r\n                            return (\r\n                                <Cell\r\n                                    disabled\r\n                                    before={<Avatar size={44} src={member_.photo}/>}\r\n                                    key={member_.id}\r\n                                    badge={member_.id === check.organizer.id ? <Icon12Favorite/>: ''}\r\n                                >\r\n                                    {member_.name}\r\n                                </Cell>\r\n                            )\r\n                        }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                <Title level=\"2\" weight=\"regular\">Нет участников ?! Да как такое возможно?!</Title>\r\n                                <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                            </Div>\r\n                    }\r\n                    <Div style={{display: \"flex\"}}>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            before={<Icon16Linked/>}\r\n                            onClick={() => {copyLink()}}\r\n                            style={{marginRight: \".5rem\"}}\r\n                        >\r\n                            Скопировать ссылку\r\n                        </Button>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            before={<Icon16ReplyOutline/>}\r\n                            onClick={() => {bridge.send(\"VKWebAppShare\", {\"link\": \"https://vk.com/app7987402#\" + check.id});}}\r\n                        >\r\n                            Пригласить\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n                <Group header={<Header indicator={check.records.length}>Затраты</Header>}>\r\n                    {\r\n                        check.records.length ? check.records.map((record, index) => {\r\n                            return (\r\n                                record.member.id == member.id || member.id == check.organizer.id ? \r\n                                    <RichCell\r\n                                        disabled\r\n                                        multiline\r\n                                        text={record.object}\r\n                                        before={<Avatar size={72} src={record.member.photo}/>}\r\n                                        after={record.amount + ' ₽'}\r\n                                        key={record.id}\r\n                                        indicator={record.amount + ' ₽'}\r\n                                        caption={record.desc}\r\n                                        actions={\r\n                                            <React.Fragment>\r\n                                            <Button mode=\"destructive\" onClick={() => removeRecord(record.id)}>удалить</Button>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    >\r\n                                        <Title level=\"2\" weight=\"regular\">{record.member.name}</Title>\r\n                                    </RichCell>\r\n                                :\r\n                                <RichCell\r\n                                    disabled\r\n                                    multiline\r\n                                    text={record.object}\r\n                                    before={<Avatar size={72} src={record.member.photo}/>}\r\n                                    after={record.amount + ' ₽'}\r\n                                    key={record.id}\r\n                                    indicator={record.amount + ' ₽'}\r\n                                    caption={record.desc}\r\n                                >\r\n                                    <Title level=\"2\" weight=\"regular\">{record.member.name}</Title>\r\n                                </RichCell>\r\n                            )\r\n                        }) : <Div style={{alignItems: \"center\", display: \"flex\", flexDirection: 'column'}}>\r\n                                <Title level=\"2\" weight=\"regular\">Трат еще нет</Title>\r\n                                <Icon56NotePenOutline style={{marginTop: \".5rem\"}}/>\r\n                            </Div>\r\n                    }\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            onClick={props.go}\r\n                            data-to=\"create\"\r\n                            data-check={check.id}\r\n                        >\r\n                            <Icon20AddCircle/>\r\n                        </Button>\r\n                    </Div>\r\n                </Group>\r\n                {\r\n                    member.id === check.organizer.id &&\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"outline\"\r\n                            onClick={() => {setActiveModal('close')}}\r\n                        >\r\n                            Нажмите здесь для закрытия счета и подсчета результатов\r\n                        </Button>\r\n                    </Div>\r\n                }\r\n                {\r\n                    member.id !== check.organizer.id &&\r\n                    <Div>\r\n                        <Button \r\n                            stretched size=\"l\" \r\n                            mode=\"destructive\"\r\n                            onClick={() => {setActiveModal('leave')}}\r\n                        >\r\n                            Выйти\r\n                        </Button>\r\n                    </Div>\r\n                }\r\n                {snackbar}\r\n\t\t\t</Panel>\r\n            }\r\n\t\t</View>\r\n\t)\r\n};\r\n\r\nCheck.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n\tfetchedUser: PropTypes.shape({\r\n\t\tphoto_200: PropTypes.string,\r\n\t\tfirst_name: PropTypes.string,\r\n\t\tlast_name: PropTypes.string,\r\n\t\tcity: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string,\r\n\t\t}),\r\n\t}),\r\n};\r\n\r\nexport default Check;\r\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport CreateCheck from './panels/CreateRecord';\nimport Check from './panels/Check';\nimport CreateRecord from './panels/CreateRecord';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [check, setCheck] = useState(null);\n\n\tlet hash = window.location.hash.replace('#', '')\n\tif (hash) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/join/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: hash })\n\t\t}).then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then((check_) => {\n\t\t\t\tsetCheck(check_.id)\n\t\t\t\tsetActivePanel(\"check\")\n\t\t\t})\n\t\twindow.location.hash = ''\n\t}\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tif (e.currentTarget.dataset.checkclose) {\n\t\t\tcloseCheck(e.currentTarget.dataset.checkclose)\n\t\t}\n\t\telse if (e.currentTarget.dataset.checkleave) {\n\t\t\tleaveCheck(e.currentTarget.dataset.checkleave)\n\t\t}\n\t\telse if (e.currentTarget.dataset.newobject) {\n\t\t\tnewRecord(\n\t\t\t\te.currentTarget.dataset.check,\n\t\t\t\te.currentTarget.dataset.newobject,\n\t\t\t\te.currentTarget.dataset.newdesc,\n\t\t\t\te.currentTarget.dataset.newamount,\n\t\t\t)\n\t\t}\n\t\tif (e.currentTarget.dataset.check) {\n\t\t\tsetCheck(e.currentTarget.dataset.check);\n\t\t}\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\tfunction closeCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/close/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t}\n\n\tfunction leaveCheck(check_) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/check/leave/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ id: check_ })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t};\n\n\tfunction newRecord(check_, object, desc, amount) {\n\t\tconst params = window.location.search.slice(1);\n\t\tfetch('https://pieceofchit.xyz/api/v1/record/new/?'+params, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\tbody: JSON.stringify({ check_obj: check_, object: object, desc: desc, amount: amount })\n\t\t})\n\t\t\t.then(response => {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error(response.statusText)\n\t\t\t\t}\n\t\t\t\treturn response.json()\n\t\t\t\t}).catch(err=>{\n\t\t\t\tconsole.log(err)\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\t\n\t\t\t})\n\t};\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t\t\t\t<Check id='check' fetchedUser={fetchedUser} go={go} check={check}/>\n\t\t\t\t\t<CreateRecord id='create' fetchedUser={fetchedUser} go={go} check={check}/>\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}